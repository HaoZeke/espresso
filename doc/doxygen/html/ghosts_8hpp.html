<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ESPResSo 3.4-dev-1009-g69a2b86-dirty-git: ghosts.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_48x48.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ESPResSo 3.4-dev-1009-g69a2b86-dirty-git
   </div>
   <div id="projectbrief">Extensible Simulation Package for Soft Matter Research</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ghosts_8hpp.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a>  </div>
  <div class="headertitle">
<div class="title">ghosts.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Ghost particles and particle exchange.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="mpi_8h_source.html">mpi.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="particle__data_8hpp_source.html">particle_data.hpp</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for ghosts.hpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ghosts_8hpp__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="ghosts_8hpp__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="ghosts_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGhostCommunication.html">GhostCommunication</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structGhostCommunicator.html">GhostCommunicator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Properties for a ghost communication.  <a href="structGhostCommunicator.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Transfer types, for \ref GhostCommunicator::type</div></td></tr>
<tr class="memitem:ae75ec763dddd906eb8463ee76dfe40ea"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#ae75ec763dddd906eb8463ee76dfe40ea">GHOST_SEND</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ae75ec763dddd906eb8463ee76dfe40ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">send to a single node  <a href="#ae75ec763dddd906eb8463ee76dfe40ea">More...</a><br /></td></tr>
<tr class="separator:ae75ec763dddd906eb8463ee76dfe40ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14c4461408070727a0b592a6422925bb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a14c4461408070727a0b592a6422925bb">GHOST_RECV</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a14c4461408070727a0b592a6422925bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">recv from a single node  <a href="#a14c4461408070727a0b592a6422925bb">More...</a><br /></td></tr>
<tr class="separator:a14c4461408070727a0b592a6422925bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad628a413b638a7aaf110fa5a4fddd021"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#ad628a413b638a7aaf110fa5a4fddd021">GHOST_BCST</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ad628a413b638a7aaf110fa5a4fddd021"><td class="mdescLeft">&#160;</td><td class="mdescRight">broadcast, the node entry gives the sender  <a href="#ad628a413b638a7aaf110fa5a4fddd021">More...</a><br /></td></tr>
<tr class="separator:ad628a413b638a7aaf110fa5a4fddd021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86efa26c4d4ee23fd5d3b619a58b33dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a86efa26c4d4ee23fd5d3b619a58b33dd">GHOST_RDCE</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:a86efa26c4d4ee23fd5d3b619a58b33dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">reduce, the node entry gives the receiver  <a href="#a86efa26c4d4ee23fd5d3b619a58b33dd">More...</a><br /></td></tr>
<tr class="separator:a86efa26c4d4ee23fd5d3b619a58b33dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1346f0f9b234a82a7ad414cf432096"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#aba1346f0f9b234a82a7ad414cf432096">GHOST_LOCL</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:aba1346f0f9b234a82a7ad414cf432096"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer data from cell to cell on this node  <a href="#aba1346f0f9b234a82a7ad414cf432096">More...</a><br /></td></tr>
<tr class="separator:aba1346f0f9b234a82a7ad414cf432096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543d1e590e05260099cf47d345ef2e35"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a543d1e590e05260099cf47d345ef2e35">GHOST_JOBMASK</a>&#160;&#160;&#160;15</td></tr>
<tr class="memdesc:a543d1e590e05260099cf47d345ef2e35"><td class="mdescLeft">&#160;</td><td class="mdescRight">mask to the job area of the transfer type  <a href="#a543d1e590e05260099cf47d345ef2e35">More...</a><br /></td></tr>
<tr class="separator:a543d1e590e05260099cf47d345ef2e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6980d757938fdb5a614d6d1bb5bfce2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#af6980d757938fdb5a614d6d1bb5bfce2">GHOST_PREFETCH</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:af6980d757938fdb5a614d6d1bb5bfce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">additional flag for prefetching  <a href="#af6980d757938fdb5a614d6d1bb5bfce2">More...</a><br /></td></tr>
<tr class="separator:af6980d757938fdb5a614d6d1bb5bfce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf1eeceba9e2689d4748c159bcf24d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a2cf1eeceba9e2689d4748c159bcf24d8">GHOST_PSTSTORE</a>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:a2cf1eeceba9e2689d4748c159bcf24d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">additional flag for poststoring  <a href="#a2cf1eeceba9e2689d4748c159bcf24d8">More...</a><br /></td></tr>
<tr class="separator:a2cf1eeceba9e2689d4748c159bcf24d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Transfer data classes, for \ref GhostCommunication::type</div></td></tr>
<tr class="memitem:afb22420095815735732b765ac46cc760"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#afb22420095815735732b765ac46cc760">GHOSTTRANS_PROPRTS</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:afb22420095815735732b765ac46cc760"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticleProperties.html">ParticleProperties</a>  <a href="#afb22420095815735732b765ac46cc760">More...</a><br /></td></tr>
<tr class="separator:afb22420095815735732b765ac46cc760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebc619252f1394e3a77a050262b70271"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#aebc619252f1394e3a77a050262b70271">GHOSTTRANS_POSITION</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:aebc619252f1394e3a77a050262b70271"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticlePosition.html">ParticlePosition</a>  <a href="#aebc619252f1394e3a77a050262b70271">More...</a><br /></td></tr>
<tr class="separator:aebc619252f1394e3a77a050262b70271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6a93a9d14f51c2e76e6ca361157b05"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#acf6a93a9d14f51c2e76e6ca361157b05">GHOSTTRANS_POSSHFTD</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:acf6a93a9d14f51c2e76e6ca361157b05"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for <a class="el" href="ghosts_8hpp.html#aebc619252f1394e3a77a050262b70271">GHOSTTRANS_POSITION</a>, shift the positions by <a class="el" href="structGhostCommunication.html#ab6693ea90adf45f8b9c855078b359181">GhostCommunication::shift</a>.  <a href="#acf6a93a9d14f51c2e76e6ca361157b05">More...</a><br /></td></tr>
<tr class="separator:acf6a93a9d14f51c2e76e6ca361157b05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9dfda36a291db52765bb2ac89ec91c5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#af9dfda36a291db52765bb2ac89ec91c5">GHOSTTRANS_MOMENTUM</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:af9dfda36a291db52765bb2ac89ec91c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticleMomentum.html">ParticleMomentum</a>  <a href="#af9dfda36a291db52765bb2ac89ec91c5">More...</a><br /></td></tr>
<tr class="separator:af9dfda36a291db52765bb2ac89ec91c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1716851da5770cfe9062d42f6d34ab2a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a1716851da5770cfe9062d42f6d34ab2a">GHOSTTRANS_FORCE</a>&#160;&#160;&#160;16</td></tr>
<tr class="memdesc:a1716851da5770cfe9062d42f6d34ab2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticleForce.html">ParticleForce</a>  <a href="#a1716851da5770cfe9062d42f6d34ab2a">More...</a><br /></td></tr>
<tr class="separator:a1716851da5770cfe9062d42f6d34ab2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecac5dd1a962c1156256b1c6f6ee3d84"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#aecac5dd1a962c1156256b1c6f6ee3d84">GHOSTTRANS_COUPLING</a>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:aecac5dd1a962c1156256b1c6f6ee3d84"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticleLatticeCoupling.html">ParticleLatticeCoupling</a>  <a href="#aecac5dd1a962c1156256b1c6f6ee3d84">More...</a><br /></td></tr>
<tr class="separator:aecac5dd1a962c1156256b1c6f6ee3d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb29050165b0166950061935c9d5e96"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#afcb29050165b0166950061935c9d5e96">GHOSTTRANS_PARTNUM</a>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:afcb29050165b0166950061935c9d5e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">resize the receiver particle arrays to the size of the senders  <a href="#afcb29050165b0166950061935c9d5e96">More...</a><br /></td></tr>
<tr class="separator:afcb29050165b0166950061935c9d5e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65168224131259dd23d71f1753f1fa5f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a65168224131259dd23d71f1753f1fa5f">GHOSTTRANS_SWIMMING</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:a65168224131259dd23d71f1753f1fa5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">transfer <a class="el" href="structParticleParametersSwimming.html">ParticleParametersSwimming</a>  <a href="#a65168224131259dd23d71f1753f1fa5f">More...</a><br /></td></tr>
<tr class="separator:a65168224131259dd23d71f1753f1fa5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Exported Functions</div></td></tr>
<tr class="memitem:ac3bdd880693794b918f410e5fc25f455"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#ac3bdd880693794b918f410e5fc25f455">prepare_comm</a> (<a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *comm, int data_parts, int num)</td></tr>
<tr class="memdesc:ac3bdd880693794b918f410e5fc25f455"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a communicator.  <a href="#ac3bdd880693794b918f410e5fc25f455">More...</a><br /></td></tr>
<tr class="separator:ac3bdd880693794b918f410e5fc25f455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8e4b073fa6eeb8c65fe29ec8fbcde5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a4f8e4b073fa6eeb8c65fe29ec8fbcde5">free_comm</a> (<a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *comm)</td></tr>
<tr class="memdesc:a4f8e4b073fa6eeb8c65fe29ec8fbcde5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a communicator.  <a href="#a4f8e4b073fa6eeb8c65fe29ec8fbcde5">More...</a><br /></td></tr>
<tr class="separator:a4f8e4b073fa6eeb8c65fe29ec8fbcde5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0136ec5c7b88193bef12be3d4542e5b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a0136ec5c7b88193bef12be3d4542e5b6">ghost_init</a> ()</td></tr>
<tr class="memdesc:a0136ec5c7b88193bef12be3d4542e5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize ghosts.  <a href="#a0136ec5c7b88193bef12be3d4542e5b6">More...</a><br /></td></tr>
<tr class="separator:a0136ec5c7b88193bef12be3d4542e5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48079781b6c62e42a351a0a5332d8d6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#a48079781b6c62e42a351a0a5332d8d6b">ghost_communicator</a> (<a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *gc)</td></tr>
<tr class="memdesc:a48079781b6c62e42a351a0a5332d8d6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">do a ghost communication  <a href="#a48079781b6c62e42a351a0a5332d8d6b">More...</a><br /></td></tr>
<tr class="separator:a48079781b6c62e42a351a0a5332d8d6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43bcc4bb716ea3c63abba956dd3c249"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#ac43bcc4bb716ea3c63abba956dd3c249">invalidate_ghosts</a> ()</td></tr>
<tr class="memdesc:ac43bcc4bb716ea3c63abba956dd3c249"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go through <a class="el" href="cells_8hpp.html#a6b461c6647575f414cfe0158bad9fae9">ghost_cells</a> and remove the ghost entries from <a class="el" href="particle__data_8hpp.html#a7e36bffb74f5a39c88ac12327e99cb22">local_particles</a>.  <a href="#ac43bcc4bb716ea3c63abba956dd3c249">More...</a><br /></td></tr>
<tr class="separator:ac43bcc4bb716ea3c63abba956dd3c249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddd644e6f9039e6c50d9792d6fa6c09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ghosts_8hpp.html#aaddd644e6f9039e6c50d9792d6fa6c09">ifParticleIsGhost</a> (<a class="el" href="structParticle.html">Particle</a> *p)</td></tr>
<tr class="separator:aaddd644e6f9039e6c50d9792d6fa6c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Ghost particles and particle exchange. </p>
<p>In this file you find everything concerning the exchange of particle data (particles, ghosts, positions and forces) for short range interactions between the spacial domains of neighbouring nodes.</p>
<h2>How does this work </h2>
<p>The ghost communication transfers data from cells on one node to cells on another node during the integration process. Note that data can only be transferred from one cell to one other, and the contents of the other cell will be overwritten. This communication is invoked by the integrator, at four different times in an integration step. These steps are reflected in <a class="el" href="cells_8hpp.html#a90d2b85cd831c48d6b2e211eabadadd7">cell_structure</a> structure, since they are treated differently by different cell systems: </p><ul>
<li>
ghost_cells are used to transfer the cell sizes, i.e., make sure that for all later transfers the target cell has the same size as the source cell. </li>
<li>
exchange_ghosts sets up all information on the ghosts that is necessary. Normally transfers the (shifted) position and particle properties. </li>
<li>
update_ghosts is used to update the particle properties if no particles have been moved between cells. Therefore only the positions are transferred, otherwise this normally looks pretty much like the exchange_ghosts. </li>
<li>
collect_ghost_forces finally is used to transfer back forces that were exerted on a ghost particle. They are simply added again to the force of the real particle. The communication process is therefore inverted with respect to exchange_ghosts and update_ghosts, i.e., sending is replaced by receiving and the other way round. </li>
</ul>
<p>The particle data that has to be transferred, and especially from where to where, heavily depends on the cell system. In Espresso, this is abstracted in form of ghost communicators (<a class="el" href="structGhostCommunicator.html">GhostCommunicator</a>) and ghost communications (<a class="el" href="structGhostCommunication.html">GhostCommunication</a>). The ghost communicators represent the four communications above and consist of the data to transfer (which is determined by their type) and a list of ghost communications. The data types are described by the particle data classes </p><ul>
<li>
GHOSTTRANS_PROPRTS transfers the <a class="el" href="structParticleProperties.html">ParticleProperties</a> </li>
<li>
GHOSTTRANS_POSITION transfers the <a class="el" href="structParticlePosition.html">ParticlePosition</a> </li>
<li>
GHOSTTRANS_POSSHFTD is no transfer class, but marks that an additional vector, the shift, has to be added to the positions. Can only be used together with GHOSTTRANS_POSITION. </li>
<li>
GHOSTTRANS_MOMENTUM transfers the <a class="el" href="structParticleMomentum.html">ParticleMomentum</a> </li>
<li>
GHOSTTRANS_FORCE transfers the <a class="el" href="structParticleForce.html">ParticleForce</a> </li>
<li>
GHOSTTRANS_PARTNUM transfers the cell sizes </li>
</ul>
<p>Each ghost communication describes a single communication of the local with another node (or all other nodes). The data transferred can be any number of cells, there are five communication types: </p><ul>
<li>
GHOST_SEND sends data to one other node </li>
<li>
GHOST_RECV recvs data from one other node. In the case of forces, they are added up, everything else is overwritten </li>
<li>
GHOST_BCST sends data to all nodes </li>
<li>
GHOST_RDCE recvs data from all nodes. In the case of forces, they are added up, everything else is overwritten </li>
<li>
GHOST_LOCL transfer data from a local cell to another local cell. In this case, the first half of the cells are the sending cells, the other half are the corresponding receivers. </li>
</ul>
<p>Note that for the first four communications you have to make sure that when one node sends to another, that the sender has GHOST_SEND and the receiver GHOST_RECV. In the case of GHOST_BCST rsp. GHOST_RDCE, all nodes have to have the same communication type and the same master sender/receiver (just like the MPI commands).</p>
<p>A special topic are GHOST_PREFETCH and GHOST_PSTSTORE. For example, if all nodes broadcast to the other, the naive implementation will be that n_nodes times a GHOST_BCST is done with different master nodes. But this means that each time n_nodes-1 nodes wait for the master to construct its send buffer. Therefore there is the prefetch flag which can be set on a pair of recv/send operations. If the ghost communication reaches a recv operation with prefetch, the next send operation (which must have the prefetch set!!) is searched and the send buffer already created. When sending, this precreated send buffer is used. In the scenario above, all nodes create the send buffers simultaneously in the first communication step, thereby reducing the latency a little bit. The pststore is similar and postpones the write back of received data until a send operation (with a precreated send buffer) is finished.</p>
<p>The ghost communicators are created in the init routines of the cell systems, therefore have a look at <a class="el" href="domain__decomposition_8hpp.html#acf1f9909d24bed0309435417f3b834d9">dd_topology_init</a> or <a class="el" href="nsquare_8hpp.html#a43cfab97b331a60b3eb17738be103403">nsq_topology_init</a> for further details. </p>

<p>Definition in file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad628a413b638a7aaf110fa5a4fddd021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_BCST&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>broadcast, the node entry gives the sender </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00100">100</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="ghosts_8cpp_source.html#l00526">is_recv_op()</a>, <a class="el" href="ghosts_8cpp_source.html#l00520">is_send_op()</a>, and <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a543d1e590e05260099cf47d345ef2e35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_JOBMASK&#160;&#160;&#160;15</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>mask to the job area of the transfer type </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00107">107</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>.</p>

</div>
</div>
<a class="anchor" id="aba1346f0f9b234a82a7ad414cf432096"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_LOCL&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer data from cell to cell on this node </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00104">104</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00295">dd_prepare_comm()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00411">dd_revert_comm_order()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00340">le_dd_prepare_comm()</a>, and <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00199">printAllComms()</a>.</p>

</div>
</div>
<a class="anchor" id="af6980d757938fdb5a614d6d1bb5bfce2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_PREFETCH&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>additional flag for prefetching </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00109">109</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00441">dd_assign_prefetches()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, and <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a2cf1eeceba9e2689d4748c159bcf24d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_PSTSTORE&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>additional flag for poststoring </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00111">111</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00441">dd_assign_prefetches()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, and <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>.</p>

</div>
</div>
<a class="anchor" id="a86efa26c4d4ee23fd5d3b619a58b33dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_RDCE&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reduce, the node entry gives the receiver </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00102">102</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="ghosts_8cpp_source.html#l00526">is_recv_op()</a>, <a class="el" href="ghosts_8cpp_source.html#l00520">is_send_op()</a>, and <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a14c4461408070727a0b592a6422925bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_RECV&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>recv from a single node </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00098">98</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00441">dd_assign_prefetches()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00295">dd_prepare_comm()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00411">dd_revert_comm_order()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="ghosts_8cpp_source.html#l00526">is_recv_op()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00340">le_dd_prepare_comm()</a>, and <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00199">printAllComms()</a>.</p>

</div>
</div>
<a class="anchor" id="ae75ec763dddd906eb8463ee76dfe40ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOST_SEND&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>send to a single node </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00096">96</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00441">dd_assign_prefetches()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00295">dd_prepare_comm()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00411">dd_revert_comm_order()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="ghosts_8cpp_source.html#l00520">is_send_op()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00340">le_dd_prepare_comm()</a>, and <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00199">printAllComms()</a>.</p>

</div>
</div>
<a class="anchor" id="aecac5dd1a962c1156256b1c6f6ee3d84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_COUPLING&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticleLatticeCoupling.html">ParticleLatticeCoupling</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00132">132</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a1716851da5770cfe9062d42f6d34ab2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_FORCE&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticleForce.html">ParticleForce</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00128">128</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="layered_8cpp_source.html#l00310">layered_topology_init()</a>, <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="af9dfda36a291db52765bb2ac89ec91c5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_MOMENTUM&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticleMomentum.html">ParticleMomentum</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00126">126</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="ghosts_8cpp_source.html#l00066">prepare_comm()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="afcb29050165b0166950061935c9d5e96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_PARTNUM&#160;&#160;&#160;64</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>resize the receiver particle arrays to the size of the senders </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00136">136</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="layered_8cpp_source.html#l00310">layered_topology_init()</a>, <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="aebc619252f1394e3a77a050262b70271"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_POSITION&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticlePosition.html">ParticlePosition</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00121">121</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="layered_8cpp_source.html#l00310">layered_topology_init()</a>, <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00066">prepare_comm()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="acf6a93a9d14f51c2e76e6ca361157b05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_POSSHFTD&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>flag for <a class="el" href="ghosts_8hpp.html#aebc619252f1394e3a77a050262b70271">GHOSTTRANS_POSITION</a>, shift the positions by <a class="el" href="structGhostCommunication.html#ab6693ea90adf45f8b9c855078b359181">GhostCommunication::shift</a>. </p>
<p>Must be or'd together with <a class="el" href="ghosts_8hpp.html#aebc619252f1394e3a77a050262b70271">GHOSTTRANS_POSITION</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00124">124</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00295">dd_prepare_comm()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00681">le_dd_dynamic_update_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00340">le_dd_prepare_comm()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="afb22420095815735732b765ac46cc760"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_PROPRTS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticleProperties.html">ParticleProperties</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00119">119</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00697">dd_on_geometry_change()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00533">ghost_communicator()</a>, <a class="el" href="layered_8cpp_source.html#l00310">layered_topology_init()</a>, <a class="el" href="nsquare_8cpp_source.html#l00076">nsq_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a65168224131259dd23d71f1753f1fa5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GHOSTTRANS_SWIMMING&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>transfer <a class="el" href="structParticleParametersSwimming.html">ParticleParametersSwimming</a> </p>

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00140">140</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>Referenced by <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="domain__decomposition_8cpp_source.html#l00794">dd_topology_init()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4f8e4b073fa6eeb8c65fe29ec8fbcde5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free_comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *&#160;</td>
          <td class="paramname"><em>comm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a communicator. </p>

<p>Definition at line <a class="el" href="ghosts_8cpp_source.html#l00085">85</a> of file <a class="el" href="ghosts_8cpp_source.html">ghosts.cpp</a>.</p>

<p>References <a class="el" href="ghosts_8hpp_source.html#l00177">GhostCommunicator::comm</a>, <a class="el" href="debug_8hpp_source.html#l00041">free</a>, <a class="el" href="debug_8hpp_source.html#l00119">GHOST_TRACE</a>, <a class="el" href="ghosts_8hpp_source.html#l00174">GhostCommunicator::num</a>, <a class="el" href="ghosts_8hpp_source.html#l00160">GhostCommunication::part_lists</a>, and <a class="el" href="communication_8cpp_source.html#l00075">this_node</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00888">dd_topology_release()</a>, <a class="el" href="layered_8cpp_source.html#l00119">layered_topology_release()</a>, and <a class="el" href="nsquare_8cpp_source.html#l00045">nsq_topology_release()</a>.</p>

</div>
</div>
<a class="anchor" id="a48079781b6c62e42a351a0a5332d8d6b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ghost_communicator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *&#160;</td>
          <td class="paramname"><em>gc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>do a ghost communication </p>

<p>Definition at line <a class="el" href="ghosts_8cpp_source.html#l00533">533</a> of file <a class="el" href="ghosts_8cpp_source.html">ghosts.cpp</a>.</p>

<p>References <a class="el" href="ghosts_8cpp_source.html#l00399">add_forces_from_recv_buffer()</a>, <a class="el" href="ghosts_8cpp_source.html#l00093">calc_transmit_size()</a>, <a class="el" href="ghosts_8cpp_source.html#l00424">cell_cell_transfer()</a>, <a class="el" href="ghosts_8hpp_source.html#l00177">GhostCommunicator::comm</a>, <a class="el" href="communication_8cpp_source.html#l00077">comm_cart</a>, <a class="el" href="ghosts_8hpp_source.html#l00171">GhostCommunicator::data_parts</a>, <a class="el" href="errorhandling_8cpp_source.html#l00115">errexit()</a>, <a class="el" href="ghosts_8hpp_source.html#l00100">GHOST_BCST</a>, <a class="el" href="ghosts_8hpp_source.html#l00107">GHOST_JOBMASK</a>, <a class="el" href="ghosts_8hpp_source.html#l00104">GHOST_LOCL</a>, <a class="el" href="ghosts_8hpp_source.html#l00109">GHOST_PREFETCH</a>, <a class="el" href="ghosts_8hpp_source.html#l00111">GHOST_PSTSTORE</a>, <a class="el" href="ghosts_8hpp_source.html#l00102">GHOST_RDCE</a>, <a class="el" href="ghosts_8hpp_source.html#l00098">GHOST_RECV</a>, <a class="el" href="ghosts_8hpp_source.html#l00096">GHOST_SEND</a>, <a class="el" href="debug_8hpp_source.html#l00119">GHOST_TRACE</a>, <a class="el" href="ghosts_8hpp_source.html#l00128">GHOSTTRANS_FORCE</a>, <a class="el" href="ghosts_8hpp_source.html#l00119">GHOSTTRANS_PROPRTS</a>, <a class="el" href="ghosts_8cpp_source.html#l00526">is_recv_op()</a>, <a class="el" href="ghosts_8cpp_source.html#l00520">is_send_op()</a>, <a class="el" href="mpi_8h_source.html#l00155">MPI_Bcast()</a>, <a class="el" href="mpi_8h_source.html#l00115">MPI_BYTE</a>, <a class="el" href="ghosts_8cpp_source.html#l00058">MPI_FORCES_SUM</a>, <a class="el" href="mpi_8h_source.html#l00113">MPI_INT</a>, <a class="el" href="mpi_8h_source.html#l00162">MPI_Recv()</a>, <a class="el" href="mpi_8h_source.html#l00203">MPI_Reduce()</a>, <a class="el" href="mpi_8h_source.html#l00166">MPI_Send()</a>, <a class="el" href="ghosts_8cpp_source.html#l00051">n_r_buffer</a>, <a class="el" href="ghosts_8cpp_source.html#l00044">n_s_buffer</a>, <a class="el" href="ghosts_8hpp_source.html#l00153">GhostCommunication::node</a>, <a class="el" href="ghosts_8hpp_source.html#l00174">GhostCommunicator::num</a>, <a class="el" href="ghosts_8cpp_source.html#l00273">prepare_recv_buffer()</a>, <a class="el" href="ghosts_8cpp_source.html#l00137">prepare_send_buffer()</a>, <a class="el" href="ghosts_8cpp_source.html#l00285">put_recv_buffer()</a>, <a class="el" href="ghosts_8cpp_source.html#l00056">r_bondbuffer</a>, <a class="el" href="ghosts_8cpp_source.html#l00054">r_buffer</a>, <a class="el" href="ghosts_8cpp_source.html#l00042">REQ_GHOST_SEND</a>, <a class="el" href="ghosts_8cpp_source.html#l00049">s_bondbuffer</a>, <a class="el" href="ghosts_8cpp_source.html#l00047">s_buffer</a>, <a class="el" href="ghosts_8hpp_source.html#l00164">GhostCommunication::shift</a>, <a class="el" href="communication_8cpp_source.html#l00075">this_node</a>, and <a class="el" href="ghosts_8hpp_source.html#l00151">GhostCommunication::type</a>.</p>

<p>Referenced by <a class="el" href="lb_8cpp_source.html#l03125">calc_particle_lattice_ia()</a>, <a class="el" href="cells_8cpp_source.html#l00331">cells_resort_particles()</a>, <a class="el" href="cells_8cpp_source.html#l00461">cells_update_ghosts()</a>, <a class="el" href="rattle_8cpp_source.html#l00210">correct_pos_shake()</a>, <a class="el" href="rattle_8cpp_source.html#l00394">correct_vel_shake()</a>, <a class="el" href="forces__inline_8hpp_source.html#l00205">force_calc()</a>, <a class="el" href="ibm__main_8cpp_source.html#l00045">IBM_ForcesIntoFluid_CPU()</a>, <a class="el" href="integrate__sd_8cpp_source.html#l00138">integrate_sd()</a>, <a class="el" href="core_2integrate_8cpp_source.html#l00231">integrate_vv()</a>, and <a class="el" href="ibm__main_8cpp_source.html#l00374">ParticleVelocitiesFromLB_CPU()</a>.</p>

</div>
</div>
<a class="anchor" id="a0136ec5c7b88193bef12be3d4542e5b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ghost_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize ghosts. </p>

<p>Definition at line <a class="el" href="ghosts_8cpp_source.html#l00700">700</a> of file <a class="el" href="ghosts_8cpp_source.html">ghosts.cpp</a>.</p>

<p>References <a class="el" href="ghosts_8cpp_source.html#l00058">MPI_FORCES_SUM</a>, <a class="el" href="mpi_8h_source.html#l00202">MPI_Op_create()</a>, and <a class="el" href="ghosts_8cpp_source.html#l00504">reduce_forces_sum()</a>.</p>

<p>Referenced by <a class="el" href="initialize_8cpp_source.html#l00082">on_program_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aaddd644e6f9039e6c50d9792d6fa6c09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ifParticleIsGhost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structParticle.html">Particle</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="ghosts_8hpp_source.html#l00205">205</a> of file <a class="el" href="ghosts_8hpp_source.html">ghosts.hpp</a>.</p>

<p>References <a class="el" href="particle__data_8hpp_source.html#l00249">ParticleLocal::ghost</a>, and <a class="el" href="particle__data_8hpp_source.html#l00295">Particle::l</a>.</p>

</div>
</div>
<a class="anchor" id="ac43bcc4bb716ea3c63abba956dd3c249"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void invalidate_ghosts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Go through <a class="el" href="cells_8hpp.html#a6b461c6647575f414cfe0158bad9fae9">ghost_cells</a> and remove the ghost entries from <a class="el" href="particle__data_8hpp.html#a7e36bffb74f5a39c88ac12327e99cb22">local_particles</a>. </p>
<p>Part of <a class="el" href="domain__decomposition_8hpp.html#ab6cc29e99f31c3f3c19558f01bbad5a8">dd_exchange_and_sort_particles</a>. </p>

<p>Definition at line <a class="el" href="ghosts_8cpp_source.html#l00707">707</a> of file <a class="el" href="ghosts_8cpp_source.html">ghosts.cpp</a>.</p>

<p>References <a class="el" href="cells_8hpp_source.html#l00119">CellPList::cell</a>, <a class="el" href="cells_8cpp_source.html#l00054">ghost_cells</a>, <a class="el" href="particle__data_8hpp_source.html#l00077">ParticleProperties::identity</a>, <a class="el" href="core_2particle__data_8cpp_source.html#l00072">local_particles</a>, <a class="el" href="cells_8hpp_source.html#l00120">CellPList::n</a>, <a class="el" href="particle__data_8hpp_source.html#l00324">ParticleList::n</a>, <a class="el" href="particle__data_8hpp_source.html#l00287">Particle::p</a>, and <a class="el" href="particle__data_8hpp_source.html#l00322">ParticleList::part</a>.</p>

<p>Referenced by <a class="el" href="cells_8cpp_source.html#l00176">cells_re_init()</a>, and <a class="el" href="cells_8cpp_source.html#l00331">cells_resort_particles()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3bdd880693794b918f410e5fc25f455"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void prepare_comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structGhostCommunicator.html">GhostCommunicator</a> *&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data_parts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a communicator. </p>

<p>Definition at line <a class="el" href="ghosts_8cpp_source.html#l00066">66</a> of file <a class="el" href="ghosts_8cpp_source.html">ghosts.cpp</a>.</p>

<p>References <a class="el" href="ghosts_8hpp_source.html#l00177">GhostCommunicator::comm</a>, <a class="el" href="ghosts_8hpp_source.html#l00171">GhostCommunicator::data_parts</a>, <a class="el" href="debug_8hpp_source.html#l00119">GHOST_TRACE</a>, <a class="el" href="ghosts_8cpp_source.html#l00064">ghosts_have_v</a>, <a class="el" href="ghosts_8hpp_source.html#l00126">GHOSTTRANS_MOMENTUM</a>, <a class="el" href="ghosts_8hpp_source.html#l00121">GHOSTTRANS_POSITION</a>, <a class="el" href="lbgpu_8cpp_source.html#l00161">i</a>, <a class="el" href="debug_8hpp_source.html#l00040">malloc</a>, <a class="el" href="ghosts_8hpp_source.html#l00174">GhostCommunicator::num</a>, <a class="el" href="ghosts_8hpp_source.html#l00164">GhostCommunication::shift</a>, and <a class="el" href="communication_8cpp_source.html#l00075">this_node</a>.</p>

<p>Referenced by <a class="el" href="domain__decomposition_8cpp_source.html#l00295">dd_prepare_comm()</a>, <a class="el" href="layered_8cpp_source.html#l00128">layered_prepare_comm()</a>, <a class="el" href="lees__edwards__domain__decomposition_8cpp_source.html#l00340">le_dd_prepare_comm()</a>, and <a class="el" href="nsquare_8cpp_source.html#l00056">nsq_prepare_comm()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="ghosts_8hpp.html">ghosts.hpp</a></li>
    <li class="footer">Generated on Fri Jun 12 2015 16:19:41 for ESPResSo 3.4-dev-1009-g69a2b86-dirty-git by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
