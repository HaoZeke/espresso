<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ESPResSo 3.4-dev-1009-g69a2b86-dirty-git: cuda_init.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_48x48.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ESPResSo 3.4-dev-1009-g69a2b86-dirty-git
   </div>
   <div id="projectbrief">Extensible Simulation Package for Soft Matter Research</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cuda__init_8hpp.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">cuda_init.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="config_8hpp_source.html">config.hpp</a>&quot;</code><br />
<code>#include &lt;vector&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for cuda_init.hpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><iframe scrolling="no" frameborder="0" src="cuda__init_8hpp__incl.svg" width="455" height="187"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="cuda__init_8hpp__dep__incl.svg" width="100%" height="496"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="cuda__init_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structEspressoGpuDevice.html">EspressoGpuDevice</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to hold information relevant to Espresso about GPUs.  <a href="structEspressoGpuDevice.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af1dedd3f69d0da12c7b62edce73deda5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#af1dedd3f69d0da12c7b62edce73deda5">cuda_init</a> ()</td></tr>
<tr class="memdesc:af1dedd3f69d0da12c7b62edce73deda5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the CUDA stream.  <a href="#af1dedd3f69d0da12c7b62edce73deda5">More...</a><br /></td></tr>
<tr class="separator:af1dedd3f69d0da12c7b62edce73deda5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed37061eb2e686a67c72446533629e4d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#aed37061eb2e686a67c72446533629e4d">cuda_get_n_gpus</a> ()</td></tr>
<tr class="memdesc:aed37061eb2e686a67c72446533629e4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the number of CUDA devices.  <a href="#aed37061eb2e686a67c72446533629e4d">More...</a><br /></td></tr>
<tr class="separator:aed37061eb2e686a67c72446533629e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71172db618a247839525379286cc3244"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#a71172db618a247839525379286cc3244">cuda_check_gpu</a> (int dev)</td></tr>
<tr class="memdesc:a71172db618a247839525379286cc3244"><td class="mdescLeft">&#160;</td><td class="mdescRight">check that a given GPU is capable of what we need, that is, at least compute capability 1.1.  <a href="#a71172db618a247839525379286cc3244">More...</a><br /></td></tr>
<tr class="separator:a71172db618a247839525379286cc3244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7d5f1fc1a7184e0c258741ac9dc2add"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#af7d5f1fc1a7184e0c258741ac9dc2add">cuda_get_gpu_name</a> (int dev, char name[64])</td></tr>
<tr class="memdesc:af7d5f1fc1a7184e0c258741ac9dc2add"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the name of a CUDA device.  <a href="#af7d5f1fc1a7184e0c258741ac9dc2add">More...</a><br /></td></tr>
<tr class="separator:af7d5f1fc1a7184e0c258741ac9dc2add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1af28334e88889bcb91f78cfe5f2693"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#aa1af28334e88889bcb91f78cfe5f2693">cuda_set_device</a> (int dev)</td></tr>
<tr class="memdesc:aa1af28334e88889bcb91f78cfe5f2693"><td class="mdescLeft">&#160;</td><td class="mdescRight">choose a device for future CUDA computations.  <a href="#aa1af28334e88889bcb91f78cfe5f2693">More...</a><br /></td></tr>
<tr class="separator:aa1af28334e88889bcb91f78cfe5f2693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39b28ad12b11e171c7330d71f8db0f4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#aa39b28ad12b11e171c7330d71f8db0f4">cuda_get_device</a> ()</td></tr>
<tr class="memdesc:aa39b28ad12b11e171c7330d71f8db0f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the current CUDA device.  <a href="#aa39b28ad12b11e171c7330d71f8db0f4">More...</a><br /></td></tr>
<tr class="separator:aa39b28ad12b11e171c7330d71f8db0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1741849fbc756c4f67f909ece84f6c0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#a1741849fbc756c4f67f909ece84f6c0f">cuda_test_device_access</a> ()</td></tr>
<tr class="memdesc:a1741849fbc756c4f67f909ece84f6c0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if actual CUDA device works.  <a href="#a1741849fbc756c4f67f909ece84f6c0f">More...</a><br /></td></tr>
<tr class="separator:a1741849fbc756c4f67f909ece84f6c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea2d5533b2d0c906c9c3399e2a28796"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structEspressoGpuDevice.html">EspressoGpuDevice</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#a4ea2d5533b2d0c906c9c3399e2a28796">cuda_gather_gpus</a> (void)</td></tr>
<tr class="memdesc:a4ea2d5533b2d0c906c9c3399e2a28796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather unique list of CUDA devices from nodes.  <a href="#a4ea2d5533b2d0c906c9c3399e2a28796">More...</a><br /></td></tr>
<tr class="separator:a4ea2d5533b2d0c906c9c3399e2a28796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8564440e2045cdcbe19380cc44aad1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#a7a8564440e2045cdcbe19380cc44aad1">cuda_get_device_props</a> (const int dev, <a class="el" href="structEspressoGpuDevice.html">EspressoGpuDevice</a> &amp;d)</td></tr>
<tr class="memdesc:a7a8564440e2045cdcbe19380cc44aad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get properties of a CUDA device.  <a href="#a7a8564440e2045cdcbe19380cc44aad1">More...</a><br /></td></tr>
<tr class="separator:a7a8564440e2045cdcbe19380cc44aad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af355252df973ee003b34b925ed38d522"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cuda__init_8hpp.html#af355252df973ee003b34b925ed38d522">cuda_error</a></td></tr>
<tr class="memdesc:af355252df973ee003b34b925ed38d522"><td class="mdescLeft">&#160;</td><td class="mdescRight">current error message of CUDA.  <a href="#af355252df973ee003b34b925ed38d522">More...</a><br /></td></tr>
<tr class="separator:af355252df973ee003b34b925ed38d522"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a71172db618a247839525379286cc3244"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_check_gpu </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check that a given GPU is capable of what we need, that is, at least compute capability 1.1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>CUDA device number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="utils_8hpp.html#a37474faad5e05ca5d6c2464f2f4aa27d">ES_OK</a> if and only if the GPU with the given id is usable for CUDA computations. Only devices with compute capability of 1.1 or higher are ok, since atomic operations are required for CUDA-LB. </dd></dl>

<p>Referenced by <a class="el" href="cuda__common__cuda_8cu_source.html#l00230">gpu_init_particle_comm()</a>, and <a class="el" href="cuda__init__tcl_8cpp_source.html#l00062">tclcommand_cuda()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ea2d5533b2d0c906c9c3399e2a28796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structEspressoGpuDevice.html">EspressoGpuDevice</a>&gt; cuda_gather_gpus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gather unique list of CUDA devices from nodes. </p>
<dl class="section return"><dt>Returns</dt><dd>vector of device on master, empty vector on other nodes. </dd></dl>

<p>Referenced by <a class="el" href="communication_8cpp_source.html#l03125">mpi_gather_cuda_devices_slave()</a>.</p>

</div>
</div>
<a class="anchor" id="aa39b28ad12b11e171c7330d71f8db0f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_get_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the current CUDA device. </p>
<dl class="section return"><dt>Returns</dt><dd>the current device's number or -1 if an error occured. The error message from CUDA can be found in <a class="el" href="cuda__init_8hpp.html#af355252df973ee003b34b925ed38d522">cuda_error</a>. </dd></dl>

<p>Referenced by <a class="el" href="cuda__init__tcl_8cpp_source.html#l00062">tclcommand_cuda()</a>.</p>

</div>
</div>
<a class="anchor" id="a7a8564440e2045cdcbe19380cc44aad1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_get_device_props </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structEspressoGpuDevice.html">EspressoGpuDevice</a> &amp;&#160;</td>
          <td class="paramname"><em>d</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get properties of a CUDA device. </p>

</div>
</div>
<a class="anchor" id="af7d5f1fc1a7184e0c258741ac9dc2add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cuda_get_gpu_name </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>name</em>[64]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the name of a CUDA device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the CUDA device number to ask the name for </td></tr>
    <tr><td class="paramname">name</td><td>a buffer to write the name to, at least 64 characters </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aed37061eb2e686a67c72446533629e4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_get_n_gpus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the number of CUDA devices. </p>
<dl class="section return"><dt>Returns</dt><dd>the number of GPUs, or -1 if CUDA could not be initialized. The error message from CUDA can be found in <a class="el" href="cuda__init_8hpp.html#af355252df973ee003b34b925ed38d522">cuda_error</a>. </dd></dl>

<p>Referenced by <a class="el" href="cuda__common__cuda_8cu_source.html#l00230">gpu_init_particle_comm()</a>.</p>

</div>
</div>
<a class="anchor" id="af1dedd3f69d0da12c7b62edce73deda5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cuda_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the CUDA stream. </p>

<p>Referenced by <a class="el" href="initialize_8cpp_source.html#l00082">on_program_start()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1af28334e88889bcb91f78cfe5f2693"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_set_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>choose a device for future CUDA computations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>the device to use </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="utils_8hpp.html#a37474faad5e05ca5d6c2464f2f4aa27d">ES_OK</a> on sucess, <a class="el" href="utils_8hpp.html#a6d4566915e747bc257792d3b3967a181">ES_ERROR</a> else. The error message from CUDA can be found in <a class="el" href="cuda__init_8hpp.html#af355252df973ee003b34b925ed38d522">cuda_error</a>. </dd></dl>

<p>Referenced by <a class="el" href="cuda__init__tcl_8cpp_source.html#l00062">tclcommand_cuda()</a>.</p>

</div>
</div>
<a class="anchor" id="a1741849fbc756c4f67f909ece84f6c0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cuda_test_device_access </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if actual CUDA device works. </p>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="utils_8hpp.html#a37474faad5e05ca5d6c2464f2f4aa27d">ES_OK</a> on sucess, <a class="el" href="utils_8hpp.html#a6d4566915e747bc257792d3b3967a181">ES_ERROR</a> else. The error message from CUDA can be found in <a class="el" href="cuda__init_8hpp.html#af355252df973ee003b34b925ed38d522">cuda_error</a>. </dd></dl>

<p>Referenced by <a class="el" href="cuda__init__tcl_8cpp_source.html#l00062">tclcommand_cuda()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="af355252df973ee003b34b925ed38d522"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cuda_error</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>current error message of CUDA. </p>

<p>Referenced by <a class="el" href="cuda__init__tcl_8cpp_source.html#l00062">tclcommand_cuda()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_aebb8dcc11953d78e620bbef0b9e2183.html">core</a></li><li class="navelem"><a class="el" href="cuda__init_8hpp.html">cuda_init.hpp</a></li>
    <li class="footer">Generated on Fri Jun 12 2015 16:19:40 for ESPResSo 3.4-dev-1009-g69a2b86-dirty-git by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
